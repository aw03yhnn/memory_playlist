<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}記憶プレイリスト{% endblock %}</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <!-- Google Fonts: Inter and Noto Sans JP -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
    {% block extra_head %}{% endblock %}
    <style>
      :root{
        --bg:#0F0F10; --surface:#161617; --text:#E7E7E7; --muted:#9A9A9A;
        --line:#2A2A2B; --hover:#1F1F20; --radius:14px;
        --bs-body-font-family: 'Inter','Noto Sans JP','Hiragino Kaku Gothic ProN','Segoe UI',Arial,sans-serif;
      }
      html,body{ background:var(--bg); color:var(--text); font-family:var(--bs-body-font-family); -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; }
      .container{ max-width:980px; }
      a{ color:inherit; text-decoration:none; border-bottom:1px solid transparent; }
      a:hover{ border-bottom-color:var(--muted); }
      .memory-card,.card{ background:var(--surface); border:1px solid var(--line); border-radius:var(--radius); padding:20px; box-shadow:none; transition:transform .15s ease, border-color .15s ease, background .15s ease; margin-bottom:16px; }
      .memory-card:hover{ transform:translateY(-2px); border-color:var(--hover); background:var(--hover); }
      .card-head{ display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:6px; }
      .memory-title{ color:#fff; font-weight:700; font-size:clamp(22px,2.4vw,28px); letter-spacing:.2px; margin:0 0 6px; }
      .memory-desc{ color:#cfcfcf; line-height:1.8; font-size:16px; margin:0 0 10px; }
      .song-line{ display:flex; gap:8px; align-items:baseline; font-size:15px; }
      .song-line .song{ color:#e6e6e6; font-weight:600; }
      .song-line .artist{ color:#9a9a9a; font-weight:500; }
      .meta{ color:#8a8a8a; font-size:12px; margin-top:10px; border-top:1px solid var(--line); padding-top:10px; }
      .btn{ background:transparent; color:var(--text); border:1px solid var(--line); border-radius:24px; padding:10px 18px; font-weight:600; transition:background .15s,border-color .15s,transform .08s; }
      .btn:hover{ background:var(--hover); border-color:var(--hover); }
      .btn:active{ transform:translateY(1px); }
      .btn-primary{ background:var(--text); color:#111; border-color:var(--text); }
      .btn-primary:hover{ background:#d9d9d9; border-color:#d9d9d9; }
      .navbar{ background:var(--bg); border-bottom:1px solid var(--line); }
      /* .spotify-player{ filter:grayscale(1) contrast(1.05); }  // 好みで有効化 */
      
      /* Contrast Hotfix */
      :root{
        /* ダーク背景向けにコントラスト引き上げ */
        --text: #ECECEC;
        --muted: #B8B8B8;
        --line: #2F2F31;

        /* Bootstrap 変数も上書きして全体に効かせる */
        --bs-body-color: #ECECEC;
        --bs-secondary-color: #B8B8B8;
        --bs-heading-color: #FFFFFF;
      }

      html, body { color: var(--text); }

      h1, h2, h3, h4, .card-title { color:#FFFFFF !important; }

      p, .memory-desc { color:#DDDDDD; line-height:1.8; }

      .song-line .artist { color:#C9C9C9; }

      .meta, small, .form-text, .help-text,
      .text-muted { color:#B8B8B8 !important; opacity:1 !important; }

      /* セクション見出し用（Description / Song Info / Spotify Player 等） */
      .section-title{
        color:#F2F2F2 !important;
        font-weight:700;
        margin:16px 0 8px;
        border-bottom:1px solid var(--line);
        padding-bottom:6px;
      }
    </style>
</head>
<body>
    <div class="container mt-4">
        {% block content %}{% endblock %}
    </div>
</body>
</html> 